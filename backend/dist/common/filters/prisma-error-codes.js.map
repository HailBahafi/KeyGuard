{"version":3,"sources":["../../../src/common/filters/prisma-error-codes.ts"],"sourcesContent":["import { HttpStatus } from \"@nestjs/common\";\nimport { PrismaClientKnownRequestError } from \"@prisma/client/runtime/client\";\n\n/**\n * Prisma Error Codes\n * Official Reference: https://www.prisma.io/docs/reference/api-reference/error-reference\n */\nexport const PrismaErrorCodes = {\n    // Authentication and Connection errors (P1xxx)\n    P1000: 'P1000',\n    P1001: 'P1001',\n    P1002: 'P1002',\n    P1003: 'P1003',\n    P1008: 'P1008',\n    P1009: 'P1009',\n    P1010: 'P1010',\n    P1011: 'P1011',\n    P1012: 'P1012',\n    P1013: 'P1013',\n    P1014: 'P1014',\n    P1015: 'P1015',\n    P1016: 'P1016',\n    P1017: 'P1017',\n\n    // Query Engine errors (P2xxx)\n    P2000: 'P2000',\n    P2001: 'P2001',\n    P2002: 'P2002',\n    P2003: 'P2003',\n    P2004: 'P2004',\n    P2005: 'P2005',\n    P2006: 'P2006',\n    P2007: 'P2007',\n    P2008: 'P2008',\n    P2009: 'P2009',\n    P2010: 'P2010',\n    P2011: 'P2011',\n    P2012: 'P2012',\n    P2013: 'P2013',\n    P2014: 'P2014',\n    P2015: 'P2015',\n    P2016: 'P2016',\n    P2017: 'P2017',\n    P2018: 'P2018',\n    P2019: 'P2019',\n    P2020: 'P2020',\n    P2021: 'P2021',\n    P2022: 'P2022',\n    P2023: 'P2023',\n    P2024: 'P2024',\n    P2025: 'P2025',\n    P2026: 'P2026',\n    P2027: 'P2027',\n    P2028: 'P2028',\n    P2029: 'P2029',\n    P2030: 'P2030',\n    P2031: 'P2031',\n    P2032: 'P2032',\n    P2033: 'P2033',\n    P2034: 'P2034',\n    P2035: 'P2035',\n    P2036: 'P2036',\n    P2037: 'P2037',\n\n    // Migration Engine errors (P3xxx)\n    P3000: 'P3000',\n    P3001: 'P3001',\n    P3002: 'P3002',\n    P3003: 'P3003',\n    P3004: 'P3004',\n    P3005: 'P3005',\n    P3006: 'P3006',\n    P3007: 'P3007',\n    P3008: 'P3008',\n    P3009: 'P3009',\n    P3010: 'P3010',\n    P3011: 'P3011',\n    P3012: 'P3012',\n    P3013: 'P3013',\n    P3014: 'P3014',\n    P3015: 'P3015',\n    P3016: 'P3016',\n    P3017: 'P3017',\n    P3018: 'P3018',\n    P3019: 'P3019',\n    P3020: 'P3020',\n    P3021: 'P3021',\n    P3022: 'P3022',\n\n    // Introspection Engine errors (P4xxx)\n    P4000: 'P4000',\n    P4001: 'P4001',\n    P4002: 'P4002',\n\n    // Prisma Accelerate errors (P6xxx)\n    P6000: 'P6000',\n    P6001: 'P6001',\n    P6002: 'P6002',\n    P6004: 'P6004',\n    P6005: 'P6005',\n    P6006: 'P6006',\n    P6008: 'P6008',\n    P6009: 'P6009',\n    P6010: 'P6010',\n} as const;\n\nexport type PrismaErrorCode = typeof PrismaErrorCodes[keyof typeof PrismaErrorCodes];\n\n/**\n * Utility class to extract and format Prisma error metadata\n */\nclass PrismaErrorMapper {\n    /**\n   * Extract target field from Prisma error meta with enhanced logic\n   */\n    static extractTarget(target: any): string {\n        if (!target) return 'unknown_field';\n\n        if (Array.isArray(target)) {\n            return target.length === 1 ? target[0] : target.join('_');\n        }\n\n        if (typeof target === 'string') {\n            return target;\n        }\n\n        return 'unknown_field';\n    }\n\n    /**\n     * Extract field name from error message with comprehensive patterns\n     */\n    static extractFieldFromMessage(message: string): string | null {\n        if (!message) return null;\n\n        // Enhanced field extraction patterns\n        const fieldPatterns = [\n            /field[s]?\\s*[`'\":]?\\s*([a-zA-Z_][a-zA-Z0-9_]*)/i,\n            /column[s]?\\s*[`'\":]?\\s*([a-zA-Z_][a-zA-Z0-9_]*)/i,\n            /constraint[s]?\\s*[`'\":]?\\s*([a-zA-Z_][a-zA-Z0-9_]*)/i,\n            /Foreign key constraint failed on the field[s]?\\s*[`'\":]?\\s*([a-zA-Z_][a-zA-Z0-9_]*)/i,\n            /Null constraint violation on the field[s]?\\s*[`'\":]?\\s*\\(?([a-zA-Z_][a-zA-Z0-9_]*)\\)?/i,\n            /Argument\\s+[`'\"]?([a-zA-Z_][a-zA-Z0-9_]*)[`'\"]?/i,\n            /on\\s+[`'\"]?([a-zA-Z_][a-zA-Z0-9_]*)[`'\"]?/i,\n        ];\n\n        for (const pattern of fieldPatterns) {\n            const match = message.match(pattern);\n            if (match && match[1]) {\n                return match[1];\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * Extract database name from error message\n     */\n    static extractDatabaseName(message: string): string {\n        if (!message) return 'database';\n\n        const dbPatterns = [\n            /database\\s+[`'\"]?([^`'\">\\s]+)[`'\"]?/i,\n            /Database\\s+[`'\"]?([^`'\">\\s]+)[`'\"]?/i,\n            /db\\s+[`'\"]?([^`'\">\\s]+)[`'\"]?/i,\n        ];\n\n        for (const pattern of dbPatterns) {\n            const match = message.match(pattern);\n            if (match && match[1]) {\n                return match[1];\n            }\n        }\n\n        return 'database';\n    }\n\n    /**\n     * Extract table name from error message\n     */\n    static extractTableName(message: string): string {\n        if (!message) return 'table';\n\n        const tablePatterns = [\n            /table\\s+[`'\"]?([a-zA-Z_][a-zA-Z0-9_]*)[`'\"]?/i,\n            /relation\\s+[`'\"]?([a-zA-Z_][a-zA-Z0-9_]*)[`'\"]?/i,\n            /model\\s+[`'\"]?([a-zA-Z_][a-zA-Z0-9_]*)[`'\"]?/i,\n            /on\\s+[`'\"]?([a-zA-Z_][a-zA-Z0-9_]*)[`'\"]?/i,\n        ];\n\n        for (const pattern of tablePatterns) {\n            const match = message.match(pattern);\n            if (match && match[1]) {\n                return match[1];\n            }\n        }\n\n        return 'table';\n    }\n}\n\ntype PrismaErrorHandler = {\n    status: number;\n    message: string;\n    buildErrors?: (exception: PrismaClientKnownRequestError) => Record<string, string[]>;\n};\n\n/**\n * Mapping of Prisma error codes to corresponding handlers\n */\nexport const prismaErrorMap: Record<PrismaErrorCode, PrismaErrorHandler> = {\n    // ========================================\n    // CONNECTION ERRORS (P1xxx)\n    // ========================================\n    [PrismaErrorCodes.P1000]: {\n        status: HttpStatus.SERVICE_UNAVAILABLE,\n        message: 'Database authentication failed',\n        buildErrors: () => ({ auth: ['Invalid database credentials'] }),\n    },\n    [PrismaErrorCodes.P1001]: {\n        status: HttpStatus.SERVICE_UNAVAILABLE,\n        message: 'Database server unreachable',\n        buildErrors: () => ({ connection: ['Unable to reach database server'] }),\n    },\n    [PrismaErrorCodes.P1002]: {\n        status: HttpStatus.REQUEST_TIMEOUT,\n        message: 'Database connection timeout',\n        buildErrors: () => ({ connection: ['Database server reached but timed out'] }),\n    },\n    [PrismaErrorCodes.P1003]: {\n        status: HttpStatus.SERVICE_UNAVAILABLE,\n        message: 'Database not found',\n        buildErrors: (e) => ({\n            database: [`Database \"${PrismaErrorMapper.extractDatabaseName(e.message)}\" does not exist`],\n        }),\n    },\n    [PrismaErrorCodes.P1008]: {\n        status: HttpStatus.REQUEST_TIMEOUT,\n        message: 'Database operation timeout',\n        buildErrors: () => ({ timeout: ['Database operation timed out'] }),\n    },\n    [PrismaErrorCodes.P1009]: {\n        status: HttpStatus.CONFLICT,\n        message: 'Database already exists',\n        buildErrors: () => ({ database: ['Database with this name already exists'] }),\n    },\n    [PrismaErrorCodes.P1010]: {\n        status: HttpStatus.FORBIDDEN,\n        message: 'Database access denied',\n        buildErrors: () => ({ access: ['User does not have access to the database'] }),\n    },\n    [PrismaErrorCodes.P1011]: {\n        status: HttpStatus.SERVICE_UNAVAILABLE,\n        message: 'TLS connection error',\n        buildErrors: () => ({ connection: ['Error establishing secure connection to database'] }),\n    },\n    [PrismaErrorCodes.P1012]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Database schema error',\n        buildErrors: () => ({ schema: ['Database schema validation failed'] }),\n    },\n    [PrismaErrorCodes.P1013]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Invalid database connection string',\n        buildErrors: () => ({ connection: ['Database connection string is invalid'] }),\n    },\n    [PrismaErrorCodes.P1014]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Datasource kind does not exist',\n        buildErrors: () => ({ datasource: ['The underlying datasource kind does not exist'] }),\n    },\n    [PrismaErrorCodes.P1015]: {\n        status: HttpStatus.NOT_IMPLEMENTED,\n        message: 'Unsupported database features',\n        buildErrors: () => ({ schema: ['Prisma schema uses features not supported by database version'] }),\n    },\n    [PrismaErrorCodes.P1016]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Raw query parameter mismatch',\n        buildErrors: () => ({ query: ['Raw query has incorrect number of parameters'] }),\n    },\n    [PrismaErrorCodes.P1017]: {\n        status: HttpStatus.SERVICE_UNAVAILABLE,\n        message: 'Database connection closed',\n        buildErrors: () => ({ connection: ['Database server closed the connection'] }),\n    },\n\n    // ========================================\n    // QUERY ENGINE ERRORS (P2xxx)\n    // ========================================\n    [PrismaErrorCodes.P2000]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Value too long for column',\n        buildErrors: (e) => {\n            const field = PrismaErrorMapper.extractFieldFromMessage(e.message) || 'field';\n            return { [field]: [`Value for ${field} exceeds maximum length`] };\n        },\n    },\n    [PrismaErrorCodes.P2001]: {\n        status: HttpStatus.NOT_FOUND,\n        message: 'Record not found',\n        buildErrors: () => ({ search: ['No record found matching the search criteria'] }),\n    },\n    [PrismaErrorCodes.P2002]: {\n        status: HttpStatus.CONFLICT,\n        message: 'Unique constraint violation',\n        buildErrors: (e) => {\n            const target = PrismaErrorMapper.extractTarget(e.meta?.target);\n            return { [target]: [`A record with this ${target} already exists`] };\n        },\n    },\n    [PrismaErrorCodes.P2003]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Foreign key constraint violation',\n        buildErrors: (e) => {\n            const field = PrismaErrorMapper.extractFieldFromMessage(e.message) || 'foreign_key';\n            return { [field]: [`Referenced ${field} does not exist`] };\n        },\n    },\n    [PrismaErrorCodes.P2004]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Database constraint failed',\n        buildErrors: () => ({ constraint: ['A database constraint was violated'] }),\n    },\n    [PrismaErrorCodes.P2005]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Invalid field value in database',\n        buildErrors: () => ({ data: ['Database contains invalid value for field type'] }),\n    },\n    [PrismaErrorCodes.P2006]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Invalid field value',\n        buildErrors: () => ({ validation: ['Provided value is not valid for this field'] }),\n    },\n    [PrismaErrorCodes.P2007]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Data validation error',\n        buildErrors: () => ({ validation: ['Data validation failed'] }),\n    },\n    [PrismaErrorCodes.P2008]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Query parsing failed',\n        buildErrors: () => ({ query: ['Failed to parse the database query'] }),\n    },\n    [PrismaErrorCodes.P2009]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Query validation failed',\n        buildErrors: () => ({ query: ['Query validation failed'] }),\n    },\n    [PrismaErrorCodes.P2010]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Raw query execution failed',\n        buildErrors: () => ({ query: ['Raw query could not be executed'] }),\n    },\n    [PrismaErrorCodes.P2011]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Null constraint violation',\n        buildErrors: (e) => {\n            const field = PrismaErrorMapper.extractFieldFromMessage(e.message) || 'field';\n            return { [field]: [`Field ${field} cannot be null`] };\n        },\n    },\n    [PrismaErrorCodes.P2012]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Missing required value',\n        buildErrors: (e) => {\n            const field = PrismaErrorMapper.extractFieldFromMessage(e.message) || 'field';\n            return { [field]: [`Field ${field} is required`] };\n        },\n    },\n    [PrismaErrorCodes.P2013]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Missing required argument',\n        buildErrors: () => ({ argument: ['A required argument is missing'] }),\n    },\n    [PrismaErrorCodes.P2014]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Required relation violation',\n        buildErrors: () => ({ relation: ['Cannot modify record due to required relation'] }),\n    },\n    [PrismaErrorCodes.P2015]: {\n        status: HttpStatus.NOT_FOUND,\n        message: 'Related record not found',\n        buildErrors: () => ({ relation: ['A related record could not be found'] }),\n    },\n    [PrismaErrorCodes.P2016]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Query interpretation error',\n        buildErrors: () => ({ query: ['Error interpreting query'] }),\n    },\n    [PrismaErrorCodes.P2017]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Records not connected',\n        buildErrors: () => ({ relation: ['The records for this relation are not connected'] }),\n    },\n    [PrismaErrorCodes.P2018]: {\n        status: HttpStatus.NOT_FOUND,\n        message: 'Required connected records not found',\n        buildErrors: () => ({ relation: ['Required connected records were not found'] }),\n    },\n    [PrismaErrorCodes.P2019]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Input error',\n        buildErrors: () => ({ input: ['Input data is invalid'] }),\n    },\n    [PrismaErrorCodes.P2020]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Value out of range',\n        buildErrors: () => ({ range: ['Value is out of range for the field type'] }),\n    },\n    [PrismaErrorCodes.P2021]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Table does not exist',\n        buildErrors: (e) => {\n            const tableName = PrismaErrorMapper.extractTableName(e.message);\n            return { schema: [`Table ${tableName} does not exist in database`] };\n        },\n    },\n    [PrismaErrorCodes.P2022]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Column does not exist',\n        buildErrors: (e) => {\n            const columnField = PrismaErrorMapper.extractFieldFromMessage(e.message) || 'column';\n            return { schema: [`Column ${columnField} does not exist in database`] };\n        },\n    },\n    [PrismaErrorCodes.P2023]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Inconsistent column data',\n        buildErrors: () => ({ data: ['Column data is inconsistent'] }),\n    },\n    [PrismaErrorCodes.P2024]: {\n        status: HttpStatus.SERVICE_UNAVAILABLE,\n        message: 'Connection pool timeout',\n        buildErrors: () => ({ pool: ['Timed out getting connection from pool'] }),\n    },\n    [PrismaErrorCodes.P2025]: {\n        status: HttpStatus.NOT_FOUND,\n        message: 'Record not found for operation',\n        buildErrors: () => ({ record: ['Required record could not be found for this operation'] }),\n    },\n    [PrismaErrorCodes.P2026]: {\n        status: HttpStatus.NOT_IMPLEMENTED,\n        message: 'Unsupported database feature',\n        buildErrors: () => ({ feature: ['Database provider does not support this feature'] }),\n    },\n    [PrismaErrorCodes.P2027]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Multiple database errors',\n        buildErrors: () => ({ multiple: ['Multiple errors occurred during query execution'] }),\n    },\n    [PrismaErrorCodes.P2028]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Transaction API error',\n        buildErrors: () => ({ transaction: ['Error in transaction API usage'] }),\n    },\n    [PrismaErrorCodes.P2029]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Query parameter limit exceeded',\n        buildErrors: () => ({ parameters: ['Too many parameters in query'] }),\n    },\n    [PrismaErrorCodes.P2030]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Fulltext index not found',\n        buildErrors: () => ({ search: ['No fulltext index available for search'] }),\n    },\n    [PrismaErrorCodes.P2031]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'MongoDB replica set required',\n        buildErrors: () => ({ mongo: ['MongoDB must be run as replica set for transactions'] }),\n    },\n    [PrismaErrorCodes.P2032]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Number too large',\n        buildErrors: () => ({ number: ['Number exceeds 64-bit signed integer limit'] }),\n    },\n    [PrismaErrorCodes.P2033]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Number requires BigInt',\n        buildErrors: () => ({ number: ['Number too large, consider using BigInt type'] }),\n    },\n    [PrismaErrorCodes.P2034]: {\n        status: HttpStatus.CONFLICT,\n        message: 'Transaction conflict',\n        buildErrors: () => ({ transaction: ['Transaction failed due to write conflict or deadlock'] }),\n    },\n    [PrismaErrorCodes.P2035]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Database assertion violation',\n        buildErrors: () => ({ assertion: ['Database assertion was violated'] }),\n    },\n    [PrismaErrorCodes.P2036]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'External connector error',\n        buildErrors: () => ({ connector: ['Error occurred in external connector'] }),\n    },\n    [PrismaErrorCodes.P2037]: {\n        status: HttpStatus.SERVICE_UNAVAILABLE,\n        message: 'Too many database connections',\n        buildErrors: () => ({ connections: ['Maximum database connections exceeded'] }),\n    },\n\n    // ========================================\n    // MIGRATION ENGINE ERRORS (P3xxx)\n    // ========================================\n    [PrismaErrorCodes.P3000]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Failed to create database',\n        buildErrors: () => ({ migration: ['Database creation failed during migration'] }),\n    },\n    [PrismaErrorCodes.P3001]: {\n        status: HttpStatus.CONFLICT,\n        message: 'Destructive migration detected',\n        buildErrors: () => ({ migration: ['Migration requires destructive changes'] }),\n    },\n    [PrismaErrorCodes.P3002]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Migration rolled back',\n        buildErrors: () => ({ migration: ['Migration was rolled back due to error'] }),\n    },\n    [PrismaErrorCodes.P3003]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Migration format changed',\n        buildErrors: () => ({ migration: ['Migration format has changed, manual intervention required'] }),\n    },\n    [PrismaErrorCodes.P3004]: {\n        status: HttpStatus.PRECONDITION_FAILED,\n        message: 'Database is empty',\n        buildErrors: () => ({ database: ['Database is empty and requires initialization'] }),\n    },\n    [PrismaErrorCodes.P3005]: {\n        status: HttpStatus.CONFLICT,\n        message: 'Database schema not empty',\n        buildErrors: () => ({ schema: ['Cannot reset non-empty database schema'] }),\n    },\n    [PrismaErrorCodes.P3006]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Migration failed to apply',\n        buildErrors: () => ({ migration: ['Migration could not be applied to database'] }),\n    },\n    [PrismaErrorCodes.P3007]: {\n        status: HttpStatus.NOT_IMPLEMENTED,\n        message: 'Preview features not allowed in migration',\n        buildErrors: () => ({ features: ['Some preview features are not allowed in migration engine'] }),\n    },\n    [PrismaErrorCodes.P3008]: {\n        status: HttpStatus.CONFLICT,\n        message: 'Migration already applied',\n        buildErrors: () => ({ migration: ['This migration has already been applied'] }),\n    },\n    [PrismaErrorCodes.P3009]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Failed migrations found',\n        buildErrors: () => ({ migration: ['Found failed migrations in target database'] }),\n    },\n    [PrismaErrorCodes.P3010]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Migration name too long',\n        buildErrors: () => ({ migration: ['Migration name exceeds maximum length'] }),\n    },\n    [PrismaErrorCodes.P3011]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Migration cannot be rolled back',\n        buildErrors: () => ({ migration: ['This migration cannot be rolled back'] }),\n    },\n    [PrismaErrorCodes.P3012]: {\n        status: HttpStatus.NOT_FOUND,\n        message: 'Migration file not found',\n        buildErrors: () => ({ migration: ['Migration file could not be found'] }),\n    },\n    [PrismaErrorCodes.P3013]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Datasource provider arrays not supported',\n        buildErrors: () => ({ datasource: ['Datasource provider arrays are deprecated'] }),\n    },\n    [PrismaErrorCodes.P3014]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Could not create shadow database',\n        buildErrors: () => ({ shadow: ['Shadow database creation failed'] }),\n    },\n    [PrismaErrorCodes.P3015]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Could not find shadow database',\n        buildErrors: () => ({ shadow: ['Shadow database could not be found'] }),\n    },\n    [PrismaErrorCodes.P3016]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Could not use shadow database fallback',\n        buildErrors: () => ({ shadow: ['Could not fall back to using shadow database'] }),\n    },\n    [PrismaErrorCodes.P3017]: {\n        status: HttpStatus.NOT_FOUND,\n        message: 'Migration could not be found',\n        buildErrors: () => ({ migration: ['The migration could not be found'] }),\n    },\n    [PrismaErrorCodes.P3018]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Migration application failed',\n        buildErrors: () => ({ migration: ['Migration failed to apply to database'] }),\n    },\n    [PrismaErrorCodes.P3019]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Datasource provider arrays deprecated',\n        buildErrors: () => ({ datasource: ['Datasource provider arrays are deprecated'] }),\n    },\n    [PrismaErrorCodes.P3020]: {\n        status: HttpStatus.NOT_IMPLEMENTED,\n        message: 'Shadow database creation disabled on Azure SQL',\n        buildErrors: () => ({ shadow: ['Automatic shadow database creation is disabled on Azure SQL'] }),\n    },\n    [PrismaErrorCodes.P3021]: {\n        status: HttpStatus.NOT_IMPLEMENTED,\n        message: 'Foreign keys not supported on this database',\n        buildErrors: () => ({ foreignKey: ['Foreign keys cannot be created on this database'] }),\n    },\n    [PrismaErrorCodes.P3022]: {\n        status: HttpStatus.FORBIDDEN,\n        message: 'DDL execution disabled',\n        buildErrors: () => ({ ddl: ['Direct DDL execution is disabled for this database'] }),\n    },\n\n    // ========================================\n    // INTROSPECTION ENGINE ERRORS (P4xxx)\n    // ========================================\n    [PrismaErrorCodes.P4000]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Introspection failed',\n        buildErrors: () => ({ introspection: ['Failed to generate schema from database'] }),\n    },\n    [PrismaErrorCodes.P4001]: {\n        status: HttpStatus.PRECONDITION_FAILED,\n        message: 'Database is empty for introspection',\n        buildErrors: () => ({ introspection: ['Cannot introspect an empty database'] }),\n    },\n    [PrismaErrorCodes.P4002]: {\n        status: HttpStatus.CONFLICT,\n        message: 'Database schema inconsistent',\n        buildErrors: () => ({ introspection: ['Database schema is inconsistent'] }),\n    },\n\n    // ========================================\n    // PRISMA ACCELERATE ERRORS (P6xxx)\n    // ========================================\n    [PrismaErrorCodes.P6000]: {\n        status: HttpStatus.SERVICE_UNAVAILABLE,\n        message: 'Could not connect to Prisma Accelerate',\n        buildErrors: () => ({ accelerate: ['Unable to connect to Prisma Accelerate service'] }),\n    },\n    [PrismaErrorCodes.P6001]: {\n        status: HttpStatus.REQUEST_TIMEOUT,\n        message: 'Prisma Accelerate timeout',\n        buildErrors: () => ({ accelerate: ['HTTP request timeout to Prisma Accelerate'] }),\n    },\n    [PrismaErrorCodes.P6002]: {\n        status: HttpStatus.SERVICE_UNAVAILABLE,\n        message: 'Accelerate connection pool timeout',\n        buildErrors: () => ({ accelerate: ['Connection pool timeout in Prisma Accelerate'] }),\n    },\n    [PrismaErrorCodes.P6004]: {\n        status: HttpStatus.INTERNAL_SERVER_ERROR,\n        message: 'Accelerate response time measurement error',\n        buildErrors: () => ({ accelerate: ['Error measuring response time in Prisma Accelerate'] }),\n    },\n    [PrismaErrorCodes.P6005]: {\n        status: HttpStatus.BAD_REQUEST,\n        message: 'Invalid Accelerate connection string',\n        buildErrors: () => ({ accelerate: ['Prisma Accelerate connection string is invalid'] }),\n    },\n    [PrismaErrorCodes.P6006]: {\n        status: HttpStatus.NOT_FOUND,\n        message: 'Accelerate edge region not found',\n        buildErrors: () => ({ accelerate: ['Prisma Accelerate edge region not found'] }),\n    },\n    [PrismaErrorCodes.P6008]: {\n        status: HttpStatus.UNAUTHORIZED,\n        message: 'Unauthorized Accelerate connection',\n        buildErrors: () => ({ accelerate: ['Check your Prisma Accelerate connection string'] }),\n    },\n    [PrismaErrorCodes.P6009]: {\n        status: HttpStatus.TOO_MANY_REQUESTS,\n        message: 'Accelerate connection limit reached',\n        buildErrors: () => ({ accelerate: ['Prisma Accelerate connection limit exceeded'] }),\n    },\n    [PrismaErrorCodes.P6010]: {\n        status: HttpStatus.REQUEST_TIMEOUT,\n        message: 'Query timeout in Accelerate',\n        buildErrors: () => ({ accelerate: ['Query timeout in Prisma Accelerate'] }),\n    },\n};\n"],"names":["PrismaErrorCodes","prismaErrorMap","P1000","P1001","P1002","P1003","P1008","P1009","P1010","P1011","P1012","P1013","P1014","P1015","P1016","P1017","P2000","P2001","P2002","P2003","P2004","P2005","P2006","P2007","P2008","P2009","P2010","P2011","P2012","P2013","P2014","P2015","P2016","P2017","P2018","P2019","P2020","P2021","P2022","P2023","P2024","P2025","P2026","P2027","P2028","P2029","P2030","P2031","P2032","P2033","P2034","P2035","P2036","P2037","P3000","P3001","P3002","P3003","P3004","P3005","P3006","P3007","P3008","P3009","P3010","P3011","P3012","P3013","P3014","P3015","P3016","P3017","P3018","P3019","P3020","P3021","P3022","P4000","P4001","P4002","P6000","P6001","P6002","P6004","P6005","P6006","P6008","P6009","P6010","PrismaErrorMapper","extractTarget","target","Array","isArray","length","join","extractFieldFromMessage","message","fieldPatterns","pattern","match","extractDatabaseName","dbPatterns","extractTableName","tablePatterns","status","HttpStatus","SERVICE_UNAVAILABLE","buildErrors","auth","connection","REQUEST_TIMEOUT","e","database","timeout","CONFLICT","FORBIDDEN","access","INTERNAL_SERVER_ERROR","schema","BAD_REQUEST","datasource","NOT_IMPLEMENTED","query","field","NOT_FOUND","search","meta","constraint","data","validation","argument","relation","input","range","tableName","columnField","pool","record","feature","multiple","transaction","parameters","mongo","number","assertion","connector","connections","migration","PRECONDITION_FAILED","features","shadow","foreignKey","ddl","introspection","accelerate","UNAUTHORIZED","TOO_MANY_REQUESTS"],"mappings":"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"}