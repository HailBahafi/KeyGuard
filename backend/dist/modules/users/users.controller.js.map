{"version":3,"sources":["../../../src/modules/users/users.controller.ts"],"sourcesContent":["import { Body, Controller, Get, Patch, Query } from '@nestjs/common';\nimport { CurrentUser, CurrentUserType } from 'src/common/decorators/current-user.decorator';\nimport { RequiredRoles } from 'src/common/decorators/roles.decorator';\nimport { UserRole } from 'src/generated/enums';\nimport { QueryUserDto } from './dto/query-user.dto';\nimport { UpdateProfileDto } from './dto/update-profile.dto';\nimport { UsersService } from './users.service';\n\n@Controller('users')\nexport class UsersController {\n  constructor(private readonly usersService: UsersService) {}\n\n  @Get()\n  @RequiredRoles(UserRole.ADMIN)\n  findAll(@Query() query: QueryUserDto) {\n    return this.usersService.findAll(query);\n  }\n\n  @Get('profile')\n  findProfile(@CurrentUser() user: CurrentUserType) {\n    return this.usersService.findProfile(user);\n  }\n\n  @Patch('profile')\n  updateProfile(@CurrentUser() user: CurrentUserType, @Body() updateProfileDto: UpdateProfileDto) {\n    return this.usersService.updateProfile(user, updateProfileDto);\n  }\n}\n"],"names":["UsersController","findAll","query","usersService","findProfile","user","updateProfile","updateProfileDto","ADMIN"],"mappings":";;;;+BASaA;;;eAAAA;;;wBATuC;sCACP;gCACf;uBACL;8BACI;kCACI;8BACJ;;;;;;;;;;;;;;;AAGtB,IAAA,AAAMA,kBAAN,MAAMA;IAKXC,QAAQ,AAASC,KAAmB,EAAE;QACpC,OAAO,IAAI,CAACC,YAAY,CAACF,OAAO,CAACC;IACnC;IAGAE,YAAY,AAAeC,IAAqB,EAAE;QAChD,OAAO,IAAI,CAACF,YAAY,CAACC,WAAW,CAACC;IACvC;IAGAC,cAAc,AAAeD,IAAqB,EAAE,AAAQE,gBAAkC,EAAE;QAC9F,OAAO,IAAI,CAACJ,YAAY,CAACG,aAAa,CAACD,MAAME;IAC/C;IAhBA,YAAY,AAAiBJ,YAA0B,CAAE;aAA5BA,eAAAA;IAA6B;AAiB5D;;;uDAd0BK"}