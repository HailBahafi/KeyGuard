{"version":3,"sources":["../../../src/core/auth/auth.module.ts"],"sourcesContent":["import { Module } from '@nestjs/common';\nimport { PassportModule } from '@nestjs/passport';\nimport { JwtModule } from '@nestjs/jwt';\nimport { AuthService } from './auth.service';\nimport { AuthController } from './auth.controller';\nimport { UsersModule } from '../../modules/users/users.module';\nimport { APP_GUARD } from '@nestjs/core';\nimport { JwtStrategy } from './jwt.strategy';\nimport { JwtAuthGuard } from './jwt-auth.guard';\nimport { PermissionsGuard } from './permissions/permission.guard';\nimport settings from 'src/common/config/index';\nimport { ConfigModule } from '@nestjs/config';\nimport { RolesGuard } from './roles/role.guard';\n\n@Module({\n  providers: [\n    AuthService,\n    JwtStrategy,\n    {\n      provide: APP_GUARD,\n      useClass: JwtAuthGuard,\n    },\n    {\n      provide: APP_GUARD,\n      useClass: PermissionsGuard,\n    },\n    {\n      provide: APP_GUARD,\n      useClass: RolesGuard,\n    },\n  ],\n  imports: [\n    PassportModule,\n    UsersModule,\n    ConfigModule.forRoot({\n      isGlobal: true,\n    }),\n    JwtModule.register({\n      secret: settings.JWT_SECRET_KEY!,\n      signOptions: { expiresIn: '7d' },\n    }),\n  ],\n  controllers: [AuthController],\n  exports: [AuthService],\n})\nexport class AuthModule {}\n"],"names":["AuthModule","providers","AuthService","JwtStrategy","provide","APP_GUARD","useClass","JwtAuthGuard","PermissionsGuard","RolesGuard","imports","PassportModule","UsersModule","ConfigModule","forRoot","isGlobal","JwtModule","register","secret","settings","JWT_SECRET_KEY","signOptions","expiresIn","controllers","AuthController","exports"],"mappings":";;;;+BA6CaA;;;eAAAA;;;wBA7CU;0BACQ;qBACL;6BACE;gCACG;6BACH;sBACF;6BACE;8BACC;iCACI;8DACZ;wBACQ;2BACF;;;;;;;;;;;;AAiCpB,IAAA,AAAMA,aAAN,MAAMA;AAAY;;;QA9BvBC,WAAW;YACTC,wBAAW;YACXC,wBAAW;YACX;gBACEC,SAASC,eAAS;gBAClBC,UAAUC,0BAAY;YACxB;YACA;gBACEH,SAASC,eAAS;gBAClBC,UAAUE,iCAAgB;YAC5B;YACA;gBACEJ,SAASC,eAAS;gBAClBC,UAAUG,qBAAU;YACtB;SACD;QACDC,SAAS;YACPC,wBAAc;YACdC,wBAAW;YACXC,oBAAY,CAACC,OAAO,CAAC;gBACnBC,UAAU;YACZ;YACAC,cAAS,CAACC,QAAQ,CAAC;gBACjBC,QAAQC,cAAQ,CAACC,cAAc;gBAC/BC,aAAa;oBAAEC,WAAW;gBAAK;YACjC;SACD;QACDC,aAAa;YAACC,8BAAc;SAAC;QAC7BC,SAAS;YAACvB,wBAAW;SAAC"}