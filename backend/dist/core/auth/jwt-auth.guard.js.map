{"version":3,"sources":["../../../src/core/auth/jwt-auth.guard.ts"],"sourcesContent":["import { ExecutionContext, Injectable } from '@nestjs/common';\nimport { Reflector } from '@nestjs/core';\nimport { AuthGuard } from '@nestjs/passport';\nimport { IS_PUBLIC_KEY } from '../../common/decorators/public.decorator';\n\n@Injectable()\nexport class JwtAuthGuard extends AuthGuard('jwt') {\n  constructor(private reflector: Reflector) {\n    super();\n  }\n\n  override canActivate(context: ExecutionContext) {\n    const isPublic = this.reflector.getAllAndOverride<boolean>(IS_PUBLIC_KEY, [\n      context.getHandler(),\n      context.getClass(),\n    ]);\n    if (isPublic) {\n      return true;\n    }\n    return super.canActivate(context);\n  }\n}\n"],"names":["JwtAuthGuard","AuthGuard","canActivate","context","isPublic","reflector","getAllAndOverride","IS_PUBLIC_KEY","getHandler","getClass"],"mappings":";;;;+BAMaA;;;eAAAA;;;wBANgC;sBACnB;0BACA;iCACI;;;;;;;;;;AAGvB,IAAA,AAAMA,eAAN,MAAMA,qBAAqBC,IAAAA,mBAAS,EAAC;IAKjCC,YAAYC,OAAyB,EAAE;QAC9C,MAAMC,WAAW,IAAI,CAACC,SAAS,CAACC,iBAAiB,CAAUC,8BAAa,EAAE;YACxEJ,QAAQK,UAAU;YAClBL,QAAQM,QAAQ;SACjB;QACD,IAAIL,UAAU;YACZ,OAAO;QACT;QACA,OAAO,KAAK,CAACF,YAAYC;IAC3B;IAbA,YAAY,AAAQE,SAAoB,CAAE;QACxC,KAAK,SADaA,YAAAA;IAEpB;AAYF"}