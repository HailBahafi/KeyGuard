# ================================
# KeyGuard Backend - Environment Configuration
# ================================
# Copy this file to .env and configure for your environment
# For Docker: see .env.docker.example and .env.docker.dev.example

# ================================
# Application Configuration
# ================================
NODE_ENV=development
PORT=3000
FRONTEND_URL=http://localhost:3001

# ================================
# Database Configuration
# ================================
# Local development (no Docker):
# DATABASE_URL="postgresql://postgres:postgres@localhost:5432/keyguard_dev"

# Docker development:
# DATABASE_URL="postgresql://keyguard_dev:dev_password@localhost:5433/keyguard_dev"

# Docker production:
# DATABASE_URL="postgresql://keyguard:SECURE_PASSWORD@localhost:5432/keyguard_prod"

DATABASE_URL="postgresql://postgres:postgres@localhost:5432/keyguard_dev"

# ================================
# JWT Configuration
# ================================
# IMPORTANT: Change this in production!
# Generate with: openssl rand -base64 48
JWT_SECRET_KEY=your-super-secret-jwt-key-that-is-at-least-32-characters-long-change-this-in-production
JWT_EXPIRES_IN=7d

# ================================
# Prisma Configuration (Optional)
# ================================
# Only needed if using Prisma Accelerate or Optimize
OPTIMIZE_API_KEY=

# ================================
# Docker-Specific Variables (if using Docker)
# ================================
# PostgreSQL Configuration
POSTGRES_USER=keyguard_dev
POSTGRES_PASSWORD=dev_password
POSTGRES_DB=keyguard_dev
POSTGRES_PORT=5433

# Adminer (Database Management Tool)
ADMINER_PORT=8080

# Auto-seed on startup (development only)
RUN_SEED=false

# ================================
# PRODUCTION NOTES
# ================================
# For production deployment:
# 1. Set NODE_ENV=production
# 2. Generate secure passwords:
#    - POSTGRES_PASSWORD: openssl rand -base64 32
#    - JWT_SECRET_KEY: openssl rand -base64 48
# 3. Use strong DATABASE_URL
# 4. Set proper FRONTEND_URL for CORS
# 5. Review security settings in application

# ================================
# DOCKER QUICK START
# ================================
# Development:
#   cp env.example .env
#   make dev (or: docker-compose -f docker-compose.dev.yml up -d)
#
# Production:
#   cp env.example .env
#   Edit .env with secure values
#   make build && make up
#   make migrate && make seed
